<%= form_with model: time_slot, local: true, id: "timeslot-form" do |form| %>

  <div class="form-group">
    <%= form.label :date, "Date" %>
    <%= form.date_field :date, class: "form-control", id: "reservation_date" %>
  </div>

  <div class="form-group">
    <%= form.label :time, "Start Time" %>
    <%= form.select :time, options_for_select(time_slots_with_duration), class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :max_tables, "Max Number of Tables" %>
    <%= form.number_field :max_tables, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :max_people, "Max Capacity Per Table" %>
    <%= form.number_field :max_people, class: "form-control" %>
  </div>

  <%= form.submit "Add Time Slot", class: "btn btn-primary" %>
<% end %>



<script>
document.addEventListener('DOMContentLoaded', function () {
  const form = document.getElementById('timeslot-form');
  form.addEventListener('submit', function (event) {
    // Get the values of the date and time fields
    const date = form.querySelector('input[name="time_slot[date]"]').value;
    const time = form.querySelector('select[name="time_slot[time]"]').value;

    if (date && time) {
      // Combine the date and time
      const combinedDateTime = `${date} ${time}`;

      // Set the hidden field with the combined value
      form.querySelector('input[name="time_slot[combined_datetime]"]').value = combinedDateTime;
    }
  });
});
</script>
